import{h as F,r as C,b as I,i as L,j as e,c as v,C as o,s as d,t as h,v as m,d as x,B as r,a6 as p,M as U,l as T,W as G,g as K}from"./index-DoMHCGG2.js";import{I as i}from"./input-COMsjQRu.js";import{L as l}from"./label-DSWK9Bhr.js";import{S as b}from"./switch-DKvoDZdm.js";import{F as P,T as E}from"./twitter-BkFCnlyo.js";import{L as R}from"./linkedin-BAwJMvZa.js";import{S as q}from"./save-CRRscGsZ.js";function O(){const{toast:u}=F(),[k,j]=C.useState(!1),[s,c]=C.useState({enableFacebookAuth:!1,facebookAppId:"",facebookAppSecret:"",facebookCallbackUrl:"",enableGoogleAuth:!1,googleClientId:"",googleClientSecret:"",googleCallbackUrl:"",enableTwitterAuth:!1,twitterApiKey:"",twitterApiSecret:"",twitterCallbackUrl:"",enableLinkedinAuth:!1,linkedinClientId:"",linkedinClientSecret:"",linkedinCallbackUrl:""}),{isLoading:A}=I({queryKey:["/api/admin/settings/social-auth"],queryFn:K({}),onSuccess:a=>{a&&a.settings&&c(a.settings)},onError:a=>{console.error("Error fetching social auth settings:",a),u({title:"خطأ في جلب الإعدادات",description:"حدث خطأ أثناء جلب إعدادات المصادقة الاجتماعية",variant:"destructive"})}}),g=L({mutationFn:async a=>await T("/api/admin/settings/social-auth",{method:"POST",body:{settings:a}}),onSuccess:()=>{u({title:"تم حفظ الإعدادات",description:"تم حفظ إعدادات المصادقة الاجتماعية بنجاح"}),G.invalidateQueries({queryKey:["/api/admin/settings/social-auth"]})},onError:a=>{u({title:"خطأ في حفظ الإعدادات",description:"حدث خطأ أثناء حفظ إعدادات المصادقة الاجتماعية",variant:"destructive"}),console.error("Error saving social auth settings:",a)}}),w=a=>{a.preventDefault(),j(!0),g.mutate(s,{onSettled:()=>{j(!1)}})},t=a=>{const{name:n,value:f,type:N,checked:y}=a.target;c(S=>({...S,[n]:N==="checkbox"?y:f}))};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"إعدادات المصادقة الاجتماعية"}),e.jsx("p",{className:"text-muted-foreground",children:"تكوين واجهات برمجة التطبيقات للمصادقة من خلال مواقع التواصل الاجتماعي"})]})}),A?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(v,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs(o,{children:[e.jsxs(d,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(P,{className:"ml-2 h-5 w-5 text-blue-600"}),"Facebook Login"]}),e.jsx(m,{children:"إعدادات المصادقة باستخدام Facebook"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(b,{id:"enableFacebookAuth",name:"enableFacebookAuth",checked:s.enableFacebookAuth,onCheckedChange:a=>{c(n=>({...n,enableFacebookAuth:a}))}}),e.jsx(l,{htmlFor:"enableFacebookAuth",children:"تفعيل تسجيل الدخول عبر Facebook"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"facebookAppId",children:"معرف التطبيق (App ID)"}),e.jsx(i,{id:"facebookAppId",name:"facebookAppId",value:s.facebookAppId,onChange:t,disabled:!s.enableFacebookAuth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"facebookAppSecret",children:"سر التطبيق (App Secret)"}),e.jsx(i,{id:"facebookAppSecret",name:"facebookAppSecret",type:"password",value:s.facebookAppSecret,onChange:t,disabled:!s.enableFacebookAuth})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"facebookCallbackUrl",children:"رابط إعادة التوجيه (Callback URL)"}),e.jsx(i,{id:"facebookCallbackUrl",name:"facebookCallbackUrl",value:s.facebookCallbackUrl,onChange:t,disabled:!s.enableFacebookAuth,placeholder:"https://example.com/auth/facebook/callback"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs(r,{type:"button",variant:"link",size:"sm",className:"text-muted-foreground p-0 h-auto space-x-1 space-x-reverse",onClick:()=>window.open("https://developers.facebook.com/apps/","_blank"),children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:"فتح موقع مطوري Facebook"})]})})]})]}),e.jsxs(o,{children:[e.jsxs(d,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(U,{className:"ml-2 h-5 w-5 text-red-500"}),"Google Login"]}),e.jsx(m,{children:"إعدادات المصادقة باستخدام Google"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(b,{id:"enableGoogleAuth",name:"enableGoogleAuth",checked:s.enableGoogleAuth,onCheckedChange:a=>{c(n=>({...n,enableGoogleAuth:a}))}}),e.jsx(l,{htmlFor:"enableGoogleAuth",children:"تفعيل تسجيل الدخول عبر Google"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"googleClientId",children:"معرف العميل (Client ID)"}),e.jsx(i,{id:"googleClientId",name:"googleClientId",value:s.googleClientId,onChange:t,disabled:!s.enableGoogleAuth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"googleClientSecret",children:"سر العميل (Client Secret)"}),e.jsx(i,{id:"googleClientSecret",name:"googleClientSecret",type:"password",value:s.googleClientSecret,onChange:t,disabled:!s.enableGoogleAuth})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"googleCallbackUrl",children:"رابط إعادة التوجيه (Callback URL)"}),e.jsx(i,{id:"googleCallbackUrl",name:"googleCallbackUrl",value:s.googleCallbackUrl,onChange:t,disabled:!s.enableGoogleAuth,placeholder:"https://example.com/auth/google/callback"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs(r,{type:"button",variant:"link",size:"sm",className:"text-muted-foreground p-0 h-auto space-x-1 space-x-reverse",onClick:()=>window.open("https://console.developers.google.com/apis/credentials","_blank"),children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:"فتح وحدة تحكم Google للمطورين"})]})})]})]}),e.jsxs(o,{children:[e.jsxs(d,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(E,{className:"ml-2 h-5 w-5 text-blue-400"}),"Twitter Login"]}),e.jsx(m,{children:"إعدادات المصادقة باستخدام Twitter"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(b,{id:"enableTwitterAuth",name:"enableTwitterAuth",checked:s.enableTwitterAuth,onCheckedChange:a=>{c(n=>({...n,enableTwitterAuth:a}))}}),e.jsx(l,{htmlFor:"enableTwitterAuth",children:"تفعيل تسجيل الدخول عبر Twitter"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"twitterApiKey",children:"مفتاح API (API Key)"}),e.jsx(i,{id:"twitterApiKey",name:"twitterApiKey",value:s.twitterApiKey,onChange:t,disabled:!s.enableTwitterAuth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"twitterApiSecret",children:"سر API (API Secret)"}),e.jsx(i,{id:"twitterApiSecret",name:"twitterApiSecret",type:"password",value:s.twitterApiSecret,onChange:t,disabled:!s.enableTwitterAuth})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"twitterCallbackUrl",children:"رابط إعادة التوجيه (Callback URL)"}),e.jsx(i,{id:"twitterCallbackUrl",name:"twitterCallbackUrl",value:s.twitterCallbackUrl,onChange:t,disabled:!s.enableTwitterAuth,placeholder:"https://example.com/auth/twitter/callback"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs(r,{type:"button",variant:"link",size:"sm",className:"text-muted-foreground p-0 h-auto space-x-1 space-x-reverse",onClick:()=>window.open("https://developer.twitter.com/en/portal/dashboard","_blank"),children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:"فتح موقع مطوري Twitter"})]})})]})]}),e.jsxs(o,{children:[e.jsxs(d,{children:[e.jsxs(h,{className:"flex items-center",children:[e.jsx(R,{className:"ml-2 h-5 w-5 text-blue-700"}),"LinkedIn Login"]}),e.jsx(m,{children:"إعدادات المصادقة باستخدام LinkedIn"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(b,{id:"enableLinkedinAuth",name:"enableLinkedinAuth",checked:s.enableLinkedinAuth,onCheckedChange:a=>{c(n=>({...n,enableLinkedinAuth:a}))}}),e.jsx(l,{htmlFor:"enableLinkedinAuth",children:"تفعيل تسجيل الدخول عبر LinkedIn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"linkedinClientId",children:"معرف العميل (Client ID)"}),e.jsx(i,{id:"linkedinClientId",name:"linkedinClientId",value:s.linkedinClientId,onChange:t,disabled:!s.enableLinkedinAuth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"linkedinClientSecret",children:"سر العميل (Client Secret)"}),e.jsx(i,{id:"linkedinClientSecret",name:"linkedinClientSecret",type:"password",value:s.linkedinClientSecret,onChange:t,disabled:!s.enableLinkedinAuth})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"linkedinCallbackUrl",children:"رابط إعادة التوجيه (Callback URL)"}),e.jsx(i,{id:"linkedinCallbackUrl",name:"linkedinCallbackUrl",value:s.linkedinCallbackUrl,onChange:t,disabled:!s.enableLinkedinAuth,placeholder:"https://example.com/auth/linkedin/callback"})]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs(r,{type:"button",variant:"link",size:"sm",className:"text-muted-foreground p-0 h-auto space-x-1 space-x-reverse",onClick:()=>window.open("https://www.linkedin.com/developers/apps","_blank"),children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:"فتح موقع مطوري LinkedIn"})]})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(r,{type:"submit",disabled:k||g.isPending,className:"min-w-[120px]",children:k||g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"ml-2 h-4 w-4"}),"حفظ الإعدادات"]})})})]})]})}export{O as default};
