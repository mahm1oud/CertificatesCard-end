import{u as R,a as B,r as n,b,j as e,B as a,L as t,U as G,c as C,C as L,F as u,d as T,A as d,e as K,f as M,M as S,g as A}from"./index-DoMHCGG2.js";import{I as V}from"./input-COMsjQRu.js";import{T as D,a as J,b as k,c as F}from"./tabs-CKJmMpcu.js";import{F as U}from"./fallback-image-BV-kt-2t.js";import{S as O}from"./search-CdLD-xpV.js";import{P as q,S as P,F as W,H as X}from"./sparkles-BkoZyrB3.js";import{G as Y}from"./graduation-cap-CdGFpJUx.js";function ce(){const{user:h}=R(),[f,j]=B(),[c,z]=n.useState(""),[l,o]=n.useState("all"),[m,g]=n.useState("cards");n.useEffect(()=>{const s=new URLSearchParams(f.split("?")[1]),r=s.get("category"),Q=s.get("tab");r&&o(r),Q==="certificates"&&g("certificates")},[f]);const{data:x,isLoading:p}=b({queryKey:["/api/categories"],queryFn:A({on401:"redirect-to-login"})}),{data:i,isLoading:$}=b({queryKey:[l==="all"?"/api/templates":`/api/categories/${l}/templates`],queryFn:A({on401:"redirect-to-login"})}),N=Array.isArray(i)?i:(i==null?void 0:i.templates)||[],E=N.filter(s=>!s.certificateType||s.certificateType==="card"),H=N.filter(s=>s.certificateType&&s.certificateType!=="card");n.useEffect(()=>{const s=new URLSearchParams;l!=="all"&&s.set("category",l),m==="certificates"&&s.set("tab","certificates");const r=s.toString();j(r?`/?${r}`:"/",{replace:!0})},[l,m,j]);const w=E.filter(s=>!c||s.title.toLowerCase().includes(c.toLowerCase())||s.titleAr&&s.titleAr.toLowerCase().includes(c.toLowerCase())),y=H.filter(s=>!c||s.title.toLowerCase().includes(c.toLowerCase())||s.titleAr&&s.titleAr.toLowerCase().includes(c.toLowerCase())),I=s=>{switch(s){case"wedding":return e.jsx(X,{className:"h-5 w-5"});case"graduation":return e.jsx(Y,{className:"h-5 w-5"});case"birthday":return e.jsx(q,{className:"h-5 w-5"});case"eid":return e.jsx(P,{className:"h-5 w-5"});case"ramadan":return e.jsx(W,{className:"h-5 w-5"});case"invitation":return e.jsx(S,{className:"h-5 w-5"});case"certificates":return e.jsx(d,{className:"h-5 w-5"});default:return e.jsx(u,{className:"h-5 w-5"})}},v=p||$;return e.jsxs("div",{className:"container mx-auto py-6 space-y-8",children:[e.jsxs("section",{className:"text-center space-y-6 py-10",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"أنشئ بطاقات وشهادات مخصصة بتصاميم احترافية"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"اختر من بين مجموعة واسعة من القوالب وقم بتخصيصها حسب احتياجاتك"}),e.jsxs("div",{className:"relative max-w-md mx-auto",children:[e.jsx(O,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(V,{placeholder:"ابحث عن قوالب...",className:"pr-9",value:c,onChange:s=>z(s.target.value)})]}),h?e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(a,{asChild:!0,children:e.jsxs(t,{href:"/user/dashboard",children:[e.jsx(G,{className:"h-4 w-4 ml-2"}),"لوحة التحكم"]})}),e.jsx(a,{variant:"outline",asChild:!0,children:e.jsx(t,{href:"/user/cards",children:"عرض بطاقاتي"})})]}):e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(a,{asChild:!0,children:e.jsx(t,{href:"/auth",children:"تسجيل الدخول"})}),e.jsx(a,{variant:"outline",asChild:!0,children:e.jsx(t,{href:"/auth?tab=register",children:"إنشاء حساب"})})]})]}),e.jsx("section",{children:e.jsx("div",{className:"flex overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),className:"whitespace-nowrap",children:"جميع القوالب"}),!p&&(x==null?void 0:x.map(s=>e.jsxs(a,{variant:l===s.slug?"default":"outline",size:"sm",onClick:()=>o(s.slug),className:"whitespace-nowrap",children:[I(s.slug),e.jsx("span",{className:"mr-2",children:s.name})]},s.id)))]})})}),e.jsx("section",{children:e.jsxs(D,{value:m,onValueChange:g,children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs(J,{children:[e.jsx(k,{value:"cards",children:"بطاقات"}),e.jsx(k,{value:"certificates",children:"شهادات"})]})}),e.jsx(F,{value:"cards",className:"mt-0",children:v?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(C,{className:"h-8 w-8 animate-spin text-primary"})}):w.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map(s=>{var r;return e.jsx(t,{href:`/cards/${((r=s.category)==null?void 0:r.slug)||"other"}/${s.id}`,className:"block",children:e.jsxs(L,{className:"overflow-hidden group hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"aspect-square w-full overflow-hidden bg-muted",children:s.imageUrl?e.jsx(U,{src:s.imageUrl,alt:s.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/static/default-logo.svg"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:e.jsx(u,{className:"h-16 w-16"})})}),e.jsxs(T,{className:"p-4",children:[e.jsx("h3",{className:"font-medium",children:s.title}),s.titleAr&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.titleAr})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(u,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"لا توجد قوالب متطابقة"}),e.jsx("p",{className:"text-muted-foreground",children:"لم نتمكن من العثور على قوالب تطابق معايير البحث"})]})}),e.jsx(F,{value:"certificates",className:"mt-0",children:v?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(C,{className:"h-8 w-8 animate-spin text-primary"})}):y.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:y.map(s=>e.jsxs(L,{className:"overflow-hidden group",children:[e.jsx("div",{className:"aspect-square w-full overflow-hidden bg-muted",children:s.imageUrl?e.jsx(U,{src:s.imageUrl,alt:s.title,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300",fallbackSrc:"/static/default-logo.svg"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:e.jsx(d,{className:"h-16 w-16"})})}),e.jsxs(T,{className:"p-4",children:[e.jsx("h3",{className:"font-medium",children:s.title}),s.titleAr&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.titleAr}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.certificateType==="appreciation"&&"شهادة تقدير",s.certificateType==="training"&&"شهادة تدريب",s.certificateType==="education"&&"شهادة تعليم",s.certificateType==="teacher"&&"شهادة للمعلمين"]})]}),e.jsx(K,{className:"p-4 pt-0",children:e.jsx(a,{asChild:!0,className:"w-full",children:e.jsxs(t,{href:`/certificates/${s.id}`,children:["استخدام القالب",e.jsx(M,{className:"h-4 w-4 mr-2"})]})})})]},s.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx(d,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"لا توجد قوالب متطابقة"}),e.jsx("p",{className:"text-muted-foreground",children:"لم نتمكن من العثور على قوالب تطابق معايير البحث"})]})})]})}),e.jsxs("section",{className:"py-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"مميزاتنا"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-muted/40 rounded-lg p-6 text-center space-y-4",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:e.jsx(q,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-medium",children:"تصاميم مخصصة"}),e.jsx("p",{className:"text-muted-foreground",children:"أضف نصوصك وصورك وخصص التصميم حسب ذوقك"})]}),e.jsxs("div",{className:"bg-muted/40 rounded-lg p-6 text-center space-y-4",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:e.jsx(d,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-medium",children:"شهادات موثقة"}),e.jsx("p",{className:"text-muted-foreground",children:"إنشاء شهادات مع رموز تحقق فريدة وقابلة للتحقق"})]}),e.jsxs("div",{className:"bg-muted/40 rounded-lg p-6 text-center space-y-4",children:[e.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:e.jsx(S,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-medium",children:"مشاركة سهلة"}),e.jsx("p",{className:"text-muted-foreground",children:"شارك تصاميمك بسهولة عبر وسائل التواصل الاجتماعي والبريد الإلكتروني"})]})]})]}),e.jsxs("section",{className:"bg-muted/30 py-16 px-6 rounded-lg text-center space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"جاهز لإنشاء تصميمك الأول؟"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"ابدأ الآن واستكشف مجموعة واسعة من القوالب المصممة لمختلف المناسبات"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(a,{size:"lg",asChild:!0,children:e.jsxs(t,{href:"#templates",children:[e.jsx(P,{className:"h-5 w-5 ml-2"}),"استكشاف القوالب"]})}),!h&&e.jsx(a,{size:"lg",variant:"outline",asChild:!0,children:e.jsx(t,{href:"/auth",children:"إنشاء حساب"})})]})]})]})}export{ce as default};
