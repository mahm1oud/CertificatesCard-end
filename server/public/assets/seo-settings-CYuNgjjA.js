import{n as d,a7 as K,a as B,j as e,a8 as V,I as W,S as C,w as f,T as Q,y as $,z as X,L as x,f as Z,D as J,r as N,a9 as Y,aa as _,B as h,K as ee,N as se,U as I,x as ae,O as te,P as ne,Q as T,V as b,ab as re,ac as ie,h as le,b as ce,i as de,R as oe,c as L,C as S,s as F,t as O,v as U,d as q,X as xe,e as he,k as me,l as E,W as ue}from"./index-DoMHCGG2.js";import{A as je,a as pe,b as fe,c as ge}from"./accordion-Chl2UIcD.js";import{G as Ne}from"./graduation-cap-CdGFpJUx.js";import{I as ve}from"./image-CRCqvbIG.js";import{L as ye}from"./layout-grid-BgxHSeuv.js";import{S as D}from"./search-CdLD-xpV.js";import{C as we,B as be}from"./badge-D9F70VlA.js";import{I as g}from"./input-COMsjQRu.js";import{T as ke}from"./textarea-C01GBzJv.js";import{L as u}from"./label-DSWK9Bhr.js";import{T as Ce,a as Me,b as A,c as z}from"./tabs-CKJmMpcu.js";import{S as Ie}from"./switch-DKvoDZdm.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=d("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=d("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=d("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=d("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=d("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=d("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=d("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=d("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function R({className:m}){const{t}=K(),[c]=B(),o=n=>c===n||c.startsWith(`${n}/`),v=[{title:t("admin.menu.dashboard"),href:"/admin/dashboard",icon:e.jsx(V,{className:"h-4 w-4"}),exact:!0},{title:t("admin.menu.content"),icon:e.jsx(Se,{className:"h-4 w-4"}),children:[{title:t("admin.menu.certificates"),href:"/admin/certificates",icon:e.jsx(Ne,{className:"h-4 w-4"})},{title:t("admin.menu.cards"),href:"/admin/cards",icon:e.jsx(ve,{className:"h-4 w-4"})},{title:t("admin.menu.templates"),href:"/admin/templates",icon:e.jsx(Le,{className:"h-4 w-4"})},{title:t("admin.menu.categories"),href:"/admin/categories",icon:e.jsx(Oe,{className:"h-4 w-4"})}]},{title:t("admin.menu.users"),href:"/admin/users",icon:e.jsx(W,{className:"h-4 w-4"})},{title:t("admin.menu.settings"),icon:e.jsx(C,{className:"h-4 w-4"}),children:[{title:"الإعدادات العامة",href:"/admin/settings",icon:e.jsx(C,{className:"h-4 w-4"})},{title:"إعدادات العرض",href:"/admin/display-settings",icon:e.jsx(ye,{className:"h-4 w-4"})},{title:"إعدادات المصادقة",href:"/admin/settings/auth",icon:e.jsx(Ue,{className:"h-4 w-4"})},{title:"إعدادات مواقع التواصل",href:"/admin/social-auth-settings",icon:e.jsx(M,{className:"h-4 w-4"})},{title:"إعدادات محركات البحث (SEO)",href:"/admin/seo-settings",icon:e.jsx(D,{className:"h-4 w-4"})}]}],s=({item:n})=>{const i=n.exact?c===n.href:o(n.href);return e.jsx(x,{href:n.href,children:e.jsxs("a",{className:f("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all",i?"bg-accent text-accent-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-accent-foreground"),children:[n.icon,e.jsx("span",{children:n.title})]})})},y=({item:n})=>{const i=o(n.href);return e.jsx(x,{href:n.href,children:e.jsxs("a",{className:f("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all",i?"bg-accent text-accent-foreground font-medium":"text-muted-foreground hover:bg-accent/50 hover:text-accent-foreground"),children:[n.icon,e.jsx("span",{children:n.title})]})})};return e.jsxs("aside",{className:f("flex flex-col border-r bg-card py-4 h-screen sticky top-0",m),children:[e.jsx("div",{className:"px-3 py-2",children:e.jsx("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:t("admin.title")})}),e.jsx("div",{className:"flex-1 overflow-auto py-2 px-3",children:e.jsx("nav",{className:"flex flex-col gap-1",children:v.map((n,i)=>{var j;return n.children?e.jsx(je,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(pe,{value:`item-${i}`,className:"border-none",children:[e.jsx(fe,{className:f("flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all no-underline hover:no-underline","hover:bg-accent/50 hover:text-accent-foreground data-[state=open]:font-medium"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[n.icon,e.jsx("span",{children:n.title})]})}),e.jsx(ge,{children:e.jsx("div",{className:"flex flex-col gap-1 pr-2 pl-5 pt-1",children:(j=n.children)==null?void 0:j.map((w,r)=>e.jsx(y,{item:w},r))})})]})},i):e.jsx(s,{item:n},i)})})}),e.jsx("div",{className:"mt-auto px-3 py-2",children:e.jsx(Q,{children:e.jsxs($,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(x,{href:"/",className:"flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-all hover:bg-accent/50 text-muted-foreground hover:text-accent-foreground",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:t("admin.viewWebsite")})]}),e.jsx(Z,{className:"h-4 w-4"})]})}),e.jsx(J,{children:e.jsx("p",{children:t("admin.viewWebsiteTooltip")})})]})})})]})}function k({children:m}){const{t}=K(),[c,o]=N.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Y,{open:c,onOpenChange:o,children:e.jsx(_,{side:"right",className:"p-0",children:e.jsx(R,{})})}),e.jsxs("header",{className:"sticky top-0 z-30 flex h-16 w-full items-center justify-between border-b bg-card px-4 md:px-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(x,{href:"/admin/dashboard",className:"flex items-center gap-2 font-semibold",children:[e.jsx("span",{className:"text-lg",children:"🎓"}),t("app.title")]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx(h,{variant:"ghost",size:"icon",children:e.jsx(we,{className:"h-5 w-5"})}),e.jsx(h,{variant:"ghost",size:"icon",children:e.jsx(Te,{className:"h-5 w-5"})}),e.jsxs(ee,{children:[e.jsx(se,{asChild:!0,children:e.jsxs(h,{variant:"ghost",className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex flex-col items-start",children:e.jsx("span",{className:"text-sm font-medium",children:"المدير"})}),e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"})]})}),e.jsxs(te,{align:"end",className:"w-56",children:[e.jsx(ne,{children:t("admin.profile.title")}),e.jsx(T,{}),e.jsx(b,{asChild:!0,children:e.jsxs(x,{href:"/admin/profile",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("admin.profile.view")})]})}),e.jsx(b,{asChild:!0,children:e.jsxs(x,{href:"/admin/settings",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("admin.settings.title")})]})}),e.jsx(T,{}),e.jsx(b,{asChild:!0,children:e.jsxs(x,{href:"/logout",children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:t("auth.logout")})]})})]})]})]}),e.jsx(h,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>o(!0),children:e.jsx(ie,{className:"h-6 w-6"})})]})]}),e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(R,{className:"hidden md:block w-64 shrink-0"}),e.jsx("main",{className:"flex-1 p-4 md:p-8",children:m})]})]})}function We(){const{toast:m}=le(),[t,c]=N.useState(""),[o,v]=N.useState("global"),{data:s,isLoading:y,error:n}=ce({queryKey:["/api/seo/global"],queryFn:async()=>await E("GET","/api/seo/global")}),i=de({mutationFn:async a=>await E("POST","/api/seo/global",a),onSuccess:()=>{m({title:"تم تحديث إعدادات SEO بنجاح",description:"تم حفظ إعدادات تحسين محركات البحث بنجاح",variant:"success"}),ue.invalidateQueries({queryKey:["/api/seo/global"]})},onError:a=>{console.error("خطأ في تحديث إعدادات SEO:",a),m({title:"خطأ في تحديث الإعدادات",description:"حدث خطأ أثناء محاولة حفظ إعدادات SEO",variant:"destructive"})}}),j=()=>{if(!t.trim())return;const a=[...r.keywords||[]];a.includes(t.trim())||(a.push(t.trim()),l({...r,keywords:a})),c("")},w=a=>{const p=r.keywords.filter(P=>P!==a);l({...r,keywords:p})},[r,l]=N.useState({title:"",description:"",keywords:[],ogImage:"",canonicalUrl:"",noIndex:!1,structuredData:{}});oe.useEffect(()=>{s&&l({title:s.title||"",description:s.description||"",keywords:s.keywords||[],ogImage:s.ogImage||"",canonicalUrl:s.canonicalUrl||"",noIndex:s.noIndex||!1,structuredData:s.structuredData||{}})},[s]);const G=a=>{a.preventDefault(),i.mutate(r)};return y?e.jsx(k,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(L,{className:"h-8 w-8 animate-spin"})})}):n?e.jsx(k,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"حدث خطأ"}),e.jsx("p",{className:"text-muted-foreground",children:"لم نتمكن من تحميل إعدادات SEO"})]})}):e.jsx(k,{children:e.jsxs("div",{className:"container py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"إعدادات تحسين محركات البحث (SEO)"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"تخصيص بيانات الوصف والكلمات المفتاحية لتحسين ظهور الموقع في نتائج البحث"})]})}),e.jsxs(Ce,{defaultValue:"global",value:o,onValueChange:v,children:[e.jsxs(Me,{className:"mb-6",children:[e.jsx(A,{value:"global",children:"الإعدادات العامة"}),e.jsx(A,{value:"help",children:"إرشادات SEO"})]}),e.jsx(z,{value:"global",children:e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(O,{children:"الإعدادات العامة لتحسين محركات البحث"}),e.jsx(U,{children:"هذه الإعدادات تؤثر على كافة صفحات الموقع التي لا تمتلك إعدادات SEO خاصة بها"})]}),e.jsxs("form",{onSubmit:G,children:[e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"title",children:"عنوان الموقع"}),e.jsx(g,{id:"title",placeholder:"عنوان الموقع الرئيسي",value:r.title,onChange:a=>l({...r,title:a.target.value})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"يظهر في نتائج البحث وشريط المتصفح (يفضل أن يكون أقل من 60 حرف)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"description",children:"وصف الموقع"}),e.jsx(ke,{id:"description",placeholder:"وصف مختصر للموقع",value:r.description||"",onChange:a=>l({...r,description:a.target.value||null}),rows:3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"وصف يظهر في نتائج البحث تحت عنوان الموقع (يفضل أن يكون بين 120-160 حرف)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"keywords",children:"الكلمات المفتاحية"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{id:"keywords",placeholder:"أضف كلمة مفتاحية",value:t,onChange:a=>c(a.target.value),onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),j())}}),e.jsx(h,{type:"button",onClick:j,children:"إضافة"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.keywords.map((a,p)=>e.jsxs(be,{variant:"secondary",className:"gap-1",children:[e.jsx(H,{className:"h-3 w-3"}),a,e.jsx("button",{type:"button",onClick:()=>w(a),className:"ml-1 rounded-full hover:bg-primary/20 p-1",children:e.jsx(xe,{className:"h-3 w-3"})})]},p)),r.keywords.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"لا توجد كلمات مفتاحية"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"ogImage",children:"رابط صورة المشاركة (Open Graph)"}),e.jsx(g,{id:"ogImage",placeholder:"https://example.com/image.jpg",value:r.ogImage||"",onChange:a=>l({...r,ogImage:a.target.value||null})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"صورة تظهر عند مشاركة الموقع على وسائل التواصل الاجتماعي"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"canonicalUrl",children:"عنوان URL الأساسي (Canonical URL)"}),e.jsx(g,{id:"canonicalUrl",placeholder:"https://example.com",value:r.canonicalUrl||"",onChange:a=>l({...r,canonicalUrl:a.target.value||null})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"المسار الأساسي للموقع لتجنب مشكلة المحتوى المكرر"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(Ie,{id:"noIndex",checked:r.noIndex,onCheckedChange:a=>l({...r,noIndex:a})}),e.jsx(u,{htmlFor:"noIndex",children:"منع الفهرسة (noindex)"}),e.jsx("p",{className:"text-xs text-muted-foreground mr-2",children:"تفعيل هذا الخيار سيمنع محركات البحث من فهرسة الموقع"})]})]}),e.jsxs(he,{className:"flex justify-between border-t pt-6",children:[e.jsx(h,{variant:"outline",type:"button",onClick:()=>l({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",keywords:(s==null?void 0:s.keywords)||[],ogImage:(s==null?void 0:s.ogImage)||"",canonicalUrl:(s==null?void 0:s.canonicalUrl)||"",noIndex:(s==null?void 0:s.noIndex)||!1,structuredData:(s==null?void 0:s.structuredData)||{}}),children:"إلغاء"}),e.jsx(h,{type:"submit",disabled:i.isPending,children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"حفظ الإعدادات"]})})]})]})]})}),e.jsx(z,{value:"help",children:e.jsxs(S,{children:[e.jsxs(F,{children:[e.jsx(O,{children:"إرشادات تحسين محركات البحث (SEO)"}),e.jsx(U,{children:"نصائح لتحسين ظهور موقعك في نتائج البحث"})]}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),"العنوان (Title)"]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["• يجب أن يكون العنوان وصفيًا ومختصرًا (أقل من 60 حرف).",e.jsx("br",{}),"• ابدأ بالكلمات المفتاحية الأكثر أهمية.",e.jsx("br",{}),"• اجعل كل عنوان فريدًا لكل صفحة."]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(M,{className:"mr-2 h-5 w-5"}),"الوصف (Description)"]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["• يجب أن يكون الوصف ملخصًا دقيقًا لمحتوى الصفحة (120-160 حرف).",e.jsx("br",{}),"• أضف دعوة للعمل لتشجيع النقر.",e.jsx("br",{}),"• استخدم الكلمات المفتاحية بطريقة طبيعية."]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(H,{className:"mr-2 h-5 w-5"}),"الكلمات المفتاحية (Keywords)"]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["• اختر الكلمات المفتاحية المرتبطة بمحتوى موقعك.",e.jsx("br",{}),"• لا تكرر الكلمات المفتاحية بشكل مفرط.",e.jsx("br",{}),"• استخدم مزيجًا من الكلمات المفتاحية العامة والمحددة."]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[e.jsx(Fe,{className:"mr-2 h-5 w-5"}),"الروابط والهيكل"]}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["• استخدم عناوين URL قصيرة ووصفية.",e.jsx("br",{}),"• تأكد من أن جميع الروابط الهامة قابلة للوصول.",e.jsx("br",{}),"• استخدم Canonical URL لتجنب مشكلة المحتوى المكرر."]})]})]})})]})})]})]})})}export{We as default};
