import{u as Q,h as A,r as n,b as B,i as K,j as e,c as h,C as j,s as p,t as f,v as g,d as b,k as r,e as k,B as y,l as H,W as I,g as O}from"./index-DoMHCGG2.js";import{S as W,a as z,b as G,c as J,d as c}from"./select-CRu623qS.js";import{T as U,a as X,b as T,c as M}from"./tabs-CKJmMpcu.js";import{S as Y}from"./switch-DKvoDZdm.js";import{L}from"./label-DSWK9Bhr.js";import{P as Z}from"./panels-top-left-Bk9o9okL.js";import{L as _}from"./layers-D3_CD2xn.js";import{R as ee}from"./rotate-ccw-JEJsQ_rj.js";import{S as V}from"./save-CRRscGsZ.js";import{S as N}from"./share-2-C3FB-j83.js";import"./index-BdQq_4o_.js";import"./chevron-up-DgjV3eGa.js";function he(){Q();const{toast:v}=A(),[D,P]=n.useState("layout"),[i,m]=n.useState("multi"),[t,o]=n.useState("multi-page"),[a,u]=n.useState(!0),[l,x]=n.useState("instagram"),{data:se,isLoading:q}=B({queryKey:["/api/display-settings"],queryFn:O({}),onSuccess:s=>{s!=null&&s.settings&&(m(s.settings.displayMode||"multi"),o(s.settings.templateViewMode||"multi-page"),u(s.settings.enableSocialFormats??!0),x(s.settings.defaultSocialFormat||"instagram"))}}),{mutate:w,isPending:d}=K({mutationFn:async s=>H("POST","/api/display-settings",s),onSuccess:()=>{I.invalidateQueries({queryKey:["/api/display-settings"]}),v({title:"تم الحفظ",description:"تم حفظ إعدادات العرض بنجاح"})},onError:s=>{console.error("Error saving display settings:",s),v({title:"خطأ",description:"حدث خطأ أثناء حفظ الإعدادات",variant:"destructive"})}}),S=s=>{m(s)},C=s=>{o(s)},E=s=>{u(s)},R=s=>{x(s)},F=()=>{w({displayMode:i,templateViewMode:t,enableSocialFormats:a,defaultSocialFormat:l})},$=()=>{m("multi"),o("multi-page"),u(!0),x("instagram"),w({displayMode:"multi",templateViewMode:"multi-page",enableSocialFormats:!0,defaultSocialFormat:"instagram"})};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"إعدادات العرض"}),e.jsx("p",{className:"text-muted-foreground",children:"تخصيص كيفية عرض المحتوى للمستخدمين"})]})}),e.jsxs(U,{value:D,onValueChange:P,children:[e.jsxs(X,{className:"grid w-full grid-cols-2 md:w-auto",children:[e.jsx(T,{value:"layout",children:"تخطيط الموقع"}),e.jsx(T,{value:"sharing",children:"المشاركة الاجتماعية"})]}),e.jsx(M,{value:"layout",className:"space-y-6",children:q?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(h,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"نمط عرض القوالب"}),e.jsx(g,{children:"تحديد طريقة عرض صفحة القوالب الرئيسية للمستخدمين"})]}),e.jsx(b,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-md p-4 cursor-pointer hover:border-primary transition-colors ${i==="single"?"border-primary bg-primary/5":""}`,onClick:()=>S("single"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium",children:"صفحة واحدة (Single-Page)"}),i==="single"&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-24 rounded-md flex items-center justify-center border-2 border-muted-foreground/20",children:e.jsxs("div",{className:"w-full h-20 flex space-x-1 rtl:space-x-reverse px-2",children:[e.jsx("div",{className:"w-1/3 h-full bg-primary/20 rounded"}),e.jsx("div",{className:"w-1/3 h-full bg-primary/30 rounded"}),e.jsx("div",{className:"w-1/3 h-full bg-primary/40 rounded"})]})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"عرض القوالب والنموذج والمعاينة في صفحة واحدة متكاملة"})]}),e.jsxs("div",{className:`border rounded-md p-4 cursor-pointer hover:border-primary transition-colors ${i==="multi"?"border-primary bg-primary/5":""}`,onClick:()=>S("multi"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium",children:"صفحات متعددة (Multi-Page)"}),i==="multi"&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-24 rounded-md flex items-center justify-center border-2 border-muted-foreground/20",children:e.jsx("div",{className:"w-full h-20 flex space-x-1 rtl:space-x-reverse px-2",children:e.jsx("div",{className:"w-full h-full bg-primary/20 rounded"})})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"عرض القوالب والنموذج والمعاينة في صفحات منفصلة"})]})]})})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"نمط عرض التفاصيل"}),e.jsx(g,{children:"تحديد طريقة عرض تفاصيل القالب وملء البيانات"})]}),e.jsx(b,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-md p-4 cursor-pointer hover:border-primary transition-colors ${t==="single-page"?"border-primary bg-primary/5":""}`,onClick:()=>C("single-page"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium",children:"عرض واحد"}),t==="single-page"&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-24 rounded-md flex items-center justify-center border-2 border-muted-foreground/20",children:e.jsx(Z,{className:"h-12 w-12 text-primary/60"})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"عرض النموذج والمعاينة في نفس الصفحة"})]}),e.jsxs("div",{className:`border rounded-md p-4 cursor-pointer hover:border-primary transition-colors ${t==="multi-page"?"border-primary bg-primary/5":""}`,onClick:()=>C("multi-page"),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-medium",children:"عرض تقليدي"}),t==="multi-page"&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-24 rounded-md flex items-center justify-center border-2 border-muted-foreground/20",children:e.jsx(_,{className:"h-12 w-12 text-primary/60"})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"عرض النموذج والمعاينة في صفحات منفصلة"})]})]})}),e.jsxs(k,{className:"flex justify-between",children:[e.jsxs(y,{variant:"outline",onClick:$,disabled:d,children:[e.jsx(ee,{className:"h-4 w-4 ml-2"}),"استعادة الإعدادات الافتراضية"]}),e.jsxs(y,{onClick:F,disabled:d,children:[d?e.jsx(h,{className:"h-4 w-4 ml-2 animate-spin"}):e.jsx(V,{className:"h-4 w-4 ml-2"}),"حفظ الإعدادات"]})]})]})]})}),e.jsx(M,{value:"sharing",className:"space-y-6",children:e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"إعدادات المشاركة الاجتماعية"}),e.jsx(g,{children:"تخصيص خيارات المشاركة عبر وسائل التواصل الاجتماعي"})]}),e.jsx(b,{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(Y,{id:"enable-social-formats",checked:a,onCheckedChange:E}),e.jsx(L,{htmlFor:"enable-social-formats",children:"تفعيل خيارات المشاركة الاجتماعية"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx(L,{htmlFor:"default-social-format",children:"التنسيق الافتراضي للمشاركة"}),e.jsxs(W,{disabled:!a,value:l,onValueChange:R,children:[e.jsx(z,{id:"default-social-format",className:"w-full mt-2",children:e.jsx(G,{placeholder:"اختر تنسيق المشاركة الافتراضي"})}),e.jsxs(J,{children:[e.jsx(c,{value:"instagram",children:"انستجرام"}),e.jsx(c,{value:"facebook",children:"فيسبوك"}),e.jsx(c,{value:"twitter",children:"تويتر"}),e.jsx(c,{value:"linkedin",children:"لينكد إن"}),e.jsx(c,{value:"whatsapp",children:"واتساب"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"انستجرام"}),l==="instagram"&&a&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-16 rounded-md flex items-center justify-center border border-muted-foreground/20",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-tr from-purple-600 to-pink-500 rounded-md flex items-center justify-center",children:e.jsx(N,{className:"h-8 w-8 text-white"})})})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"فيسبوك"}),l==="facebook"&&a&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-16 rounded-md flex items-center justify-center border border-muted-foreground/20",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-md flex items-center justify-center",children:e.jsx(N,{className:"h-8 w-8 text-white"})})})]}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"تويتر"}),l==="twitter"&&a&&e.jsx(r,{className:"h-4 w-4 text-primary"})]}),e.jsx("div",{className:"bg-muted h-16 rounded-md flex items-center justify-center border border-muted-foreground/20",children:e.jsx("div",{className:"w-16 h-16 bg-sky-500 rounded-md flex items-center justify-center",children:e.jsx(N,{className:"h-8 w-8 text-white"})})})]})]})]})}),e.jsx(k,{children:e.jsxs(y,{className:"w-full",onClick:F,disabled:d,children:[d?e.jsx(h,{className:"h-4 w-4 ml-2 animate-spin"}):e.jsx(V,{className:"h-4 w-4 ml-2"}),"حفظ إعدادات المشاركة"]})})]})})]})]})}export{he as default};
