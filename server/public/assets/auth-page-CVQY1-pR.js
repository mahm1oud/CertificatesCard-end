import{n as q,u as D,a as I,h as R,r as o,j as e,c as j,C as U,s as E,t as M,v as B,d as H,H as v,B as d,e as V}from"./index-DoMHCGG2.js";import{I as r}from"./input-COMsjQRu.js";import{L as i}from"./label-DSWK9Bhr.js";import{T as z,a as G,b as N,c as y}from"./tabs-CKJmMpcu.js";import{A as w,b}from"./alert-DFZX5DlC.js";import{U as J}from"./user-plus-BHXitpu0.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);function _(){const{user:x,loginMutation:t,registerMutation:n}=D(),[C,p]=I(),{toast:F}=R(),[L,P]=o.useState("login"),[h,T]=o.useState({username:"",password:""}),[s,S]=o.useState({username:"",email:"",name:"",password:"",confirmPassword:""}),g=new URLSearchParams(C.split("?")[1]).get("redirect")||"/";o.useEffect(()=>{x&&p(g)},[x,g,p]);const f=a=>{const{name:m,value:c}=a.target;T(u=>({...u,[m]:c}))},l=a=>{const{name:m,value:c}=a.target;S(u=>({...u,[m]:c}))},k=a=>{a.preventDefault(),t.mutate(h)},A=a=>{if(a.preventDefault(),s.password!==s.confirmPassword){F({title:"كلمات المرور غير متطابقة",description:"تأكد من تطابق كلمة المرور وتأكيدها",variant:"destructive"});return}const{confirmPassword:m,...c}=s;n.mutate(c)};return x?e.jsx("div",{className:"container mx-auto py-10 flex justify-center",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx("div",{className:"container mx-auto py-10 min-h-screen flex flex-col justify-center",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col justify-center space-y-6 p-6 hidden md:flex",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"مرحباً بك في منصتنا"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"قم بإنشاء بطاقات مخصصة وشهادات رسمية بتصاميم احترافية"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"اختر القالب"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"اختر من بين مجموعة واسعة من قوالب البطاقات والشهادات"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"خصص التصميم"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"أضف النصوص والتفاصيل الخاصة بك حسب المناسبة"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"شارك أو قم بالتحميل"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"قم بتحميل التصميم النهائي أو مشاركته مع الآخرين"})]})]})]})]}),e.jsx("div",{children:e.jsxs(U,{className:"border-none md:border shadow-none md:shadow",children:[e.jsxs(E,{className:"space-y-1",children:[e.jsx(M,{className:"text-2xl text-center",children:"تسجيل الدخول / إنشاء حساب"}),e.jsx(B,{className:"text-center",children:"قم بتسجيل الدخول أو إنشاء حساب جديد للوصول إلى جميع الميزات"})]}),e.jsx(H,{children:e.jsxs(z,{defaultValue:"login",value:L,onValueChange:P,children:[e.jsxs(G,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(N,{value:"login",children:"تسجيل الدخول"}),e.jsx(N,{value:"register",children:"إنشاء حساب"})]}),e.jsxs(y,{value:"login",className:"space-y-4",children:[t.error&&e.jsxs(w,{variant:"destructive",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(b,{children:t.error.message||"فشل تسجيل الدخول، تحقق من اسم المستخدم وكلمة المرور"})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"username",children:"اسم المستخدم"}),e.jsx(r,{id:"username",name:"username",placeholder:"أدخل اسم المستخدم",value:h.username,onChange:f,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{htmlFor:"password",children:"كلمة المرور"}),e.jsx(d,{variant:"link",className:"h-auto p-0",asChild:!0,children:e.jsx("a",{href:"/forgot-password",children:"نسيت كلمة المرور؟"})})]}),e.jsx(r,{id:"password",name:"password",type:"password",placeholder:"أدخل كلمة المرور",value:h.password,onChange:f,required:!0})]}),e.jsx(d,{type:"submit",className:"w-full",disabled:t.isPending,children:t.isPending?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري تسجيل الدخول..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"ml-2 h-4 w-4"}),"تسجيل الدخول"]})})]})]}),e.jsxs(y,{value:"register",className:"space-y-4",children:[n.error&&e.jsxs(w,{variant:"destructive",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(b,{children:n.error.message||"فشل إنشاء الحساب، يرجى المحاولة مرة أخرى"})]}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"register-username",children:"اسم المستخدم"}),e.jsx(r,{id:"register-username",name:"username",placeholder:"أدخل اسم المستخدم",value:s.username,onChange:l,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"register-email",children:"البريد الإلكتروني"}),e.jsx(r,{id:"register-email",name:"email",type:"email",placeholder:"أدخل البريد الإلكتروني",value:s.email,onChange:l,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"register-name",children:"الاسم الكامل (اختياري)"}),e.jsx(r,{id:"register-name",name:"name",placeholder:"أدخل اسمك الكامل",value:s.name,onChange:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"register-password",children:"كلمة المرور"}),e.jsx(r,{id:"register-password",name:"password",type:"password",placeholder:"أدخل كلمة المرور",value:s.password,onChange:l,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"register-confirm-password",children:"تأكيد كلمة المرور"}),e.jsx(r,{id:"register-confirm-password",name:"confirmPassword",type:"password",placeholder:"أعد إدخال كلمة المرور",value:s.confirmPassword,onChange:l,required:!0})]}),e.jsx(d,{type:"submit",className:"w-full",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري إنشاء الحساب..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"ml-2 h-4 w-4"}),"إنشاء حساب"]})})]})]})]})}),e.jsx(V,{className:"flex flex-col items-center justify-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["بتسجيل الدخول أو إنشاء حساب، فإنك توافق على",e.jsx(d,{variant:"link",className:"h-auto p-0 mx-1",children:"شروط الاستخدام"}),"و",e.jsx(d,{variant:"link",className:"h-auto p-0 mx-1",children:"سياسة الخصوصية"}),"الخاصة بنا"]})})]})})]})})}export{_ as default};
